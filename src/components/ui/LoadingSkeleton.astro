---
// SSR-rendered loading skeleton shown while React islands hydrate.
// This HTML ships from the server immediately — no JS needed.
interface Props {
  variant?: "hexgrid" | "landing" | "setup" | "progress" | "settings";
  locale?: string;
}

const { variant = "hexgrid", locale = "ar" } = Astro.props;
const isRTL = locale === "ar";
---

{
  variant === "hexgrid" && (
    <div class="flex min-h-screen flex-col bg-gradient-to-b from-primary-50/40 via-secondary-50 to-accent-50/30 animate-pulse">
      {/* Header skeleton */}
      <header class="z-10 border-b border-primary-100/50 bg-white/60 px-5 pt-14 pb-3 backdrop-blur-md">
        <div class="flex items-center justify-between">
          <div>
            <div class="h-6 w-32 rounded-lg bg-secondary-200/60" />
            <div class="mt-1.5 h-3 w-24 rounded bg-secondary-100/60" />
          </div>
          <div class="h-7 w-14 rounded-full bg-accent-100/60" />
        </div>
        {/* Stats row skeleton */}
        <div class="mt-3 flex gap-2">
          {[1, 2, 3].map(() => (
            <div class="flex-1 rounded-xl bg-white/70 p-2.5">
              <div class="h-2.5 w-12 rounded bg-secondary-100/60" />
              <div class="mt-1.5 h-5 w-8 rounded bg-secondary-200/60" />
            </div>
          ))}
        </div>
        {/* Verse card skeleton */}
        <div class="mt-3 rounded-2xl bg-gradient-to-r from-primary-50 to-accent-50/60 p-3">
          <div class="mx-auto h-3 w-48 rounded bg-secondary-200/40" />
          <div class="mx-auto mt-2 h-3 w-36 rounded bg-secondary-200/40" />
          <div class="mx-auto mt-2 h-2 w-20 rounded bg-secondary-100/40" />
        </div>
      </header>
      {/* Journey path skeleton — circles in a winding path */}
      <div class="flex-1 flex flex-col items-center gap-6 px-4 pt-12 pb-28">
        {[0, 1, 2, 3, 4, 5].map((i) => (
          <div
            class:list={[
              "h-12 w-12 rounded-full",
              i === 0 ? "bg-primary-300/40" : "bg-secondary-200/40",
            ]}
            style={`margin-inline-start: ${Math.sin(i * 0.85) * 48}px`}
          />
        ))}
      </div>
      {/* Floating CTA skeleton */}
      <div class="fixed bottom-20 left-0 right-0 z-20 flex justify-center px-4">
        <div class="h-12 w-48 rounded-full bg-primary-400/40" />
      </div>
    </div>
  )
}

{
  variant === "landing" && (
    <div class="min-h-screen bg-secondary-50 animate-pulse">
      <section class="px-5 pb-16 pt-20">
        <div class="mx-auto max-w-md text-center">
          <div class="mx-auto mb-8 h-20 w-20 rounded-3xl bg-primary-300/30" />
          <div class="mx-auto h-8 w-48 rounded-lg bg-secondary-200/60" />
          <div class="mx-auto mt-3 h-4 w-64 rounded bg-secondary-100/60" />
          <div class="mx-auto mt-2 h-4 w-56 rounded bg-secondary-100/60" />
          <div class="mx-auto mt-8 h-14 w-full rounded-2xl bg-primary-400/30" />
        </div>
      </section>
    </div>
  )
}

{
  variant === "setup" && (
    <div class="min-h-screen bg-secondary-50 animate-pulse">
      <div class="px-5 pt-14 pb-6">
        <div class="h-7 w-36 rounded-lg bg-secondary-200/60" />
        <div class="mt-2 h-4 w-56 rounded bg-secondary-100/60" />
      </div>
      <div class="px-5 space-y-4">
        {[1, 2, 3].map(() => (
          <div class="rounded-2xl bg-white/70 p-4">
            <div class="h-5 w-32 rounded bg-secondary-200/60" />
            <div class="mt-2 h-3 w-48 rounded bg-secondary-100/60" />
          </div>
        ))}
      </div>
    </div>
  )
}

{
  variant === "progress" && (
    <div class="min-h-screen bg-secondary-50 animate-pulse">
      <div class="px-5 pt-14 pb-6">
        <div class="h-7 w-28 rounded-lg bg-secondary-200/60" />
      </div>
      <div class="px-5 space-y-3">
        <div class="h-40 rounded-2xl bg-white/70" />
        <div class="h-32 rounded-2xl bg-white/70" />
      </div>
    </div>
  )
}

{
  variant === "settings" && (
    <div class="min-h-screen bg-secondary-50 animate-pulse">
      <div class="px-5 pt-14 pb-6">
        <div class="h-7 w-28 rounded-lg bg-secondary-200/60" />
      </div>
      <div class="px-5 space-y-3">
        {[1, 2, 3, 4].map(() => (
          <div class="flex items-center justify-between rounded-xl bg-white/70 p-4">
            <div class="h-4 w-24 rounded bg-secondary-200/60" />
            <div class="h-6 w-12 rounded-full bg-secondary-100/60" />
          </div>
        ))}
      </div>
    </div>
  )
}
